{{page-title (t "measureConcept.details")}}

<BreadcrumbsItem as |linkClass|>
  <LinkTo
    @route="measure-concepts.measure-concept"
    @model={{@model.id}}
    class={{linkClass}}
  >
    {{! TODO: Find a better thing to display in the breadcrumb }}
    {{@model.description}}
  </LinkTo>
</BreadcrumbsItem>

<NavigationBar />

<div class="au-o-box">
  <div class="au-o-grid au-u-margin-top">
    <div class="au-o-grid__item au-u-1-2@medium">
      <AuCard @flex={{true}} as |c|>
        <c.header @badgeSkin="brand">
          <div class="flex-content-between">
            <div class="no-flex-shrink">
              <img
                class="au-u-margin-right"
                alt=""
                role="presentation"
                src={{@model.roadSignConcept.image}}
              />
            </div>
            <div>
              <p>
                {{@model.description}}
              </p>
            </div>
          </div>
          <hr />
          <h2>
            {{t "measureConcept.attr.roadSignConceptCombination"}}
          </h2>
          {{#each @model.roadSignCombination.measureConcepts as |linkedMeasure|}}
            {{#if (not-eq linkedMeasure.id @model.id)}}
              <div class="flex-content-between">
                <div class="no-flex-shrink">
                  <img
                    class="au-u-margin-right"
                    alt=""
                    role="presentation"
                    src={{linkedMeasure.roadSignConcept.image}}
                  />
                </div>
                <div>
                  <p>
                    {{linkedMeasure.description}}
                  </p>
                </div>
              </div>
            {{/if}}
          {{/each}}
        </c.header>
        <c.footer>
          <LinkTo
            class="au-c-button"
            @route="measure-concepts.edit"
            @model={{@model.id}}
          >
            {{t "measureConcept.crud.edit"}}
          </LinkTo>
          <AuButton @alert={{true}} {{on "click" (fn (mut this.isOpen) true)}}>
            {{t "measureConcept.crud.delete"}}
          </AuButton>
          <AuModal
            @modalTitle={{t "utility.confirmation.title"}}
            @modalOpen={{this.isOpen}}
            @closeModal={{fn (mut this.isOpen) false}} as |Modal|
          >
            <Modal.Body>
              <p>
                {{t "utility.confirmation.body"}}
              </p>
            </Modal.Body>
            <Modal.Footer>
              <AuButton
                @alert={{true}}
                {{on "click" (fn this.removeMeasureConcept @model)}}
              >
                {{t "measureConcept.crud.delete"}}
              </AuButton>
            </Modal.Footer>
          </AuModal>
        </c.footer>
      </AuCard>
    </div>
  </div>
</div>